{% extends ../base.html %}

{% block title %}
增加服务器
{% end %}

{% block extra_head %}
	<script type="text/javascript">
		$(document).ready(function(){
			$("#server_menu").attr({"class": "active", "style": "margin-left: -2px;"});
			$("#snmp_supported").change(function() {
				var snmp_supported = $("#snmp_supported option:selected").val();
				if (snmp_supported == 1) {
					$("#snmp_comm").show();
				} else if (snmp_supported == 0) {
					$("#snmp_comm").hide();
				}
			});
		});
	</script>
	
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/base.css" title="plain">
    <script src="/css/util.js"></script>
    
{% end %}

{% block main_content %}
<div>
    <ul class="breadcrumb">
        <li>
            <a href="#">基础设施</a> <span class="divider">/</span>
        </li>
        <li>
            <a href="/infra/server/">服务器</a><span class="divider">/</span>
        </li>
        <li>
            <a href="/infra/server/add/">增加</a>
        </li>
    </ul>
    
    <div>
        <div class="box span12">
			<div class="box-header well" data-original-title>
					<h2><i class="icon-user"></i><span id="vm_name_label"></span></h2>
					<div class="box-icon">
						<a href="#" class="btn btn-setting btn-round"><i class="icon-cog"></i></a>
						<a href="#" class="btn btn-minimize btn-round"><i class="icon-chevron-up"></i></a>
					</div>
			</div>
            
            <div class="box-content">
                <div class="row-fluid">
                    <div class="span6" style="display: inline">
                        <form action="" method="post">
                            {% if updated == "ok" %}
                                <div class="alert alert-block" style="width: 469px;">
                                        <a href="#" class="close" data-dismiss="alert">&times;</a>
                                        <h4 class="alert-heading">成功</h4>
                                        <p>增加服务器 {{ new_server }}成功!</p>
                                </div>
			    {% elif updated == "failed" %}
                                <div class="alert alert-error" style="width: 469px;">
                                        <a href="#" class="close" data-dismiss="alert">&times;</a>
                                        <h4 class="alert-heading">错误</h4>
                                        <p>增加服务器 {{ new_server }} 失败!</p>
                                </div>
			    {% end %}
                            <div class="well well-small" style="width: 100%">
                                <table>
                                   <tbody>
                                   <tr>
                                           <td style="float: left; margin-right: 20px;">
                                                   主机名&nbsp;&nbsp;
                                           </td>
                                           <td style="margin-left: 20px;">
                                                   <input style="margin-left:18px" type="text" name="host_name">
                                           </td>
                                   </tr>
                                   </tbody>
                                </table>
			    </div>
                            
                            <div class="well well-small" style="width: 100%">
                                <table>
                                   <tbody>
                                   <tr>
                                           <td style="float: left; margin-right: 20px;">
                                                   主机别名&nbsp;&nbsp;
                                           </td>
                                           <td style="margin-left: 20px;">
                                                   <input style="margin-left:5px" type="text" name="alias">
                                           </td>
                                   </tr>
                                   </tbody>
                                </table>
			    </div>
                            
                            <div class="well well-small" style="width: 100%">
                                <table>
                                   <tbody>
                                   <tr>
                                           <td style="float: left; margin-right: 20px;">
                                                   IP地址&nbsp;&nbsp;
                                           </td>
                                           <td style="margin-left: 20px;">
                                                   <input style="margin-left: 20px" type="text" name="address">
                                           </td>
                                   </tr>
                                   </tbody>
                                </table>
			    </div>
                            
                            <div class="well well-small" style="width: 100%">
                                <table>
                                   <tbody>
                                   <tr>
                                           <td style="float: left; margin-right: 20px;">
                                                   主机模板&nbsp;&nbsp;
                                           </td>
                                           <td style="margin-left: 20px;">
                                                   <select style="margin-left: 10px" name="use">
                                                        <option value="generic-host">generic-host</option>
                                                   </select>
                                           </td>
                                   </tr>
                                   </tbody>
                                </table>
			    </div>
			    
                            <div class="well well-small" style="width: 100%">
                                <table>
                                   <tbody>
                                   <tr>
                                           <td style="float: left; margin-right: 18px;">
                                                   支持SNMP
                                           </td>
                                           <td style="margin-left: 20px;">
                                                   <select style="margin-left: 10px" name="snmp_supported" id="snmp_supported">
                                                        <option value="0">不支持</option>
                                                        <option value="1">支持</option>
                                                   </select>
                                           </td>
                                   </tr>
                                   </tbody>
                                </table>
			    </div>
			    
                            <div id="snmp_comm" class="well well-small hide" style="width: 100%">
                                <table>
                                   <tbody>
                                   <tr>
                                           <td style="float: left; margin-right: 18px;">
                                                Community
                                           </td>
                                           <td style="margin-left: 20px;">
                                                   <input style="margin-left: 10px" type="text" name="snmp_community">
                                           </td>
                                   </tr>
                                   </tbody>
                                </table>
			    </div>
                            
                            <input class="btn btn-large btn-primary" type="submit" value="保存">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
		
</div>
{% end %}